### Similarity Search Project Diagrams

This document contains various diagrams illustrating the architecture and workflows of the Similarity Search Django project.

## System Architecture Diagram

```mermaid
System Architecture.download-icon {
            cursor: pointer;
            transform-origin: center;
        }
        .download-icon .arrow-part {
            transition: transform 0.35s cubic-bezier(0.35, 0.2, 0.14, 0.95);
             transform-origin: center;
        }
        button:has(.download-icon):hover .download-icon .arrow-part, button:has(.download-icon):focus-visible .download-icon .arrow-part {
          transform: translateY(-1.5px);
        }
        #mermaid-diagram-rqs{font-family:var(--font-geist-sans);font-size:12px;fill:#000000;}#mermaid-diagram-rqs .error-icon{fill:#552222;}#mermaid-diagram-rqs .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-rqs .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-rqs .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-rqs .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-rqs .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-rqs .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-rqs .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-rqs .marker{fill:#666;stroke:#666;}#mermaid-diagram-rqs .marker.cross{stroke:#666;}#mermaid-diagram-rqs svg{font-family:var(--font-geist-sans);font-size:12px;}#mermaid-diagram-rqs p{margin:0;}#mermaid-diagram-rqs .label{font-family:var(--font-geist-sans);color:#000000;}#mermaid-diagram-rqs .cluster-label text{fill:#333;}#mermaid-diagram-rqs .cluster-label span{color:#333;}#mermaid-diagram-rqs .cluster-label span p{background-color:transparent;}#mermaid-diagram-rqs .label text,#mermaid-diagram-rqs span{fill:#000000;color:#000000;}#mermaid-diagram-rqs .node rect,#mermaid-diagram-rqs .node circle,#mermaid-diagram-rqs .node ellipse,#mermaid-diagram-rqs .node polygon,#mermaid-diagram-rqs .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-diagram-rqs .rough-node .label text,#mermaid-diagram-rqs .node .label text{text-anchor:middle;}#mermaid-diagram-rqs .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-diagram-rqs .node .label{text-align:center;}#mermaid-diagram-rqs .node.clickable{cursor:pointer;}#mermaid-diagram-rqs .arrowheadPath{fill:#333333;}#mermaid-diagram-rqs .edgePath .path{stroke:#666;stroke-width:2.0px;}#mermaid-diagram-rqs .flowchart-link{stroke:#666;fill:none;}#mermaid-diagram-rqs .edgeLabel{background-color:white;text-align:center;}#mermaid-diagram-rqs .edgeLabel p{background-color:white;}#mermaid-diagram-rqs .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-rqs .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-diagram-rqs .cluster rect{fill:hsl(0, 0%, 98.9215686275%);stroke:#707070;stroke-width:1px;}#mermaid-diagram-rqs .cluster text{fill:#333;}#mermaid-diagram-rqs .cluster span{color:#333;}#mermaid-diagram-rqs div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:var(--font-geist-sans);font-size:12px;background:hsl(-160, 0%, 93.3333333333%);border:1px solid #707070;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-diagram-rqs .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-rqs .flowchart-link{stroke:hsl(var(--gray-400));stroke-width:1px;}#mermaid-diagram-rqs .marker,#mermaid-diagram-rqs marker,#mermaid-diagram-rqs marker *{fill:hsl(var(--gray-400))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rqs .label,#mermaid-diagram-rqs text,#mermaid-diagram-rqs text>tspan{fill:hsl(var(--black))!important;color:hsl(var(--black))!important;}#mermaid-diagram-rqs .background,#mermaid-diagram-rqs rect.relationshipLabelBox{fill:hsl(var(--white))!important;}#mermaid-diagram-rqs .entityBox,#mermaid-diagram-rqs .attributeBoxEven{fill:hsl(var(--gray-150))!important;}#mermaid-diagram-rqs .attributeBoxOdd{fill:hsl(var(--white))!important;}#mermaid-diagram-rqs .label-container,#mermaid-diagram-rqs rect.actor{fill:hsl(var(--white))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rqs line{stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rqs :root{--mermaid-font-family:var(--font-geist-sans);}#mermaid-diagram-rqs .primary rect{fill:#f9f!important;stroke:#333!important;stroke-width:2px!important;}#mermaid-diagram-rqs .primary polygon{fill:#f9f!important;stroke:#333!important;stroke-width:2px!important;}#mermaid-diagram-rqs .primary ellipse{fill:#f9f!important;stroke:#333!important;stroke-width:2px!important;}#mermaid-diagram-rqs .primary circle{fill:#f9f!important;stroke:#333!important;stroke-width:2px!important;}#mermaid-diagram-rqs .primary path{fill:#f9f!important;stroke:#333!important;stroke-width:2px!important;}#mermaid-diagram-rqs .secondary rect{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rqs .secondary polygon{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rqs .secondary ellipse{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rqs .secondary circle{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rqs .secondary path{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rqs .tertiary rect{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rqs .tertiary polygon{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rqs .tertiary ellipse{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rqs .tertiary circle{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rqs .tertiary path{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}Search ComponentsVector DatabasesUser (Browser)Django Web ServerAuthentication SystemSimilarity Search EngineADMIN Vector DBIT Vector DBFINANCE Vector DBHR Vector DBSentence Transformer ModelSQLite-Vec ExtensionFallback Similarity Engine
```

## Search Process Sequence Diagram

```mermaid
Search Process Sequence.download-icon {
            cursor: pointer;
            transform-origin: center;
        }
        .download-icon .arrow-part {
            transition: transform 0.35s cubic-bezier(0.35, 0.2, 0.14, 0.95);
             transform-origin: center;
        }
        button:has(.download-icon):hover .download-icon .arrow-part, button:has(.download-icon):focus-visible .download-icon .arrow-part {
          transform: translateY(-1.5px);
        }
        VectorDBFallbackEngineSQLiteVecSentenceTransformerVectorSearchManagerSearchViewFrontendVectorDBFallbackEngineSQLiteVecSentenceTransformerVectorSearchManagerSearchViewFrontend#mermaid-diagram-rr3{font-family:var(--font-geist-sans);font-size:12px;fill:#000000;}#mermaid-diagram-rr3 .error-icon{fill:#552222;}#mermaid-diagram-rr3 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-rr3 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-rr3 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-rr3 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-rr3 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-rr3 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-rr3 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-rr3 .marker{fill:#666;stroke:#666;}#mermaid-diagram-rr3 .marker.cross{stroke:#666;}#mermaid-diagram-rr3 svg{font-family:var(--font-geist-sans);font-size:12px;}#mermaid-diagram-rr3 p{margin:0;}#mermaid-diagram-rr3 .actor{stroke:hsl(0, 0%, 83%);fill:#eee;}#mermaid-diagram-rr3 text.actor>tspan{fill:#333;stroke:none;}#mermaid-diagram-rr3 .actor-line{stroke:hsl(0, 0%, 83%);}#mermaid-diagram-rr3 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-diagram-rr3 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-diagram-rr3 #arrowhead path{fill:#333;stroke:#333;}#mermaid-diagram-rr3 .sequenceNumber{fill:white;}#mermaid-diagram-rr3 #sequencenumber{fill:#333;}#mermaid-diagram-rr3 #crosshead path{fill:#333;stroke:#333;}#mermaid-diagram-rr3 .messageText{fill:#333;stroke:none;}#mermaid-diagram-rr3 .labelBox{stroke:hsl(0, 0%, 83%);fill:#eee;}#mermaid-diagram-rr3 .labelText,#mermaid-diagram-rr3 .labelText>tspan{fill:#333;stroke:none;}#mermaid-diagram-rr3 .loopText,#mermaid-diagram-rr3 .loopText>tspan{fill:#333;stroke:none;}#mermaid-diagram-rr3 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(0, 0%, 83%);fill:hsl(0, 0%, 83%);}#mermaid-diagram-rr3 .note{stroke:#999;fill:#666;}#mermaid-diagram-rr3 .noteText,#mermaid-diagram-rr3 .noteText>tspan{fill:#fff;stroke:none;}#mermaid-diagram-rr3 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-rr3 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-rr3 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-rr3 .actorPopupMenu{position:absolute;}#mermaid-diagram-rr3 .actorPopupMenuPanel{position:absolute;fill:#eee;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-diagram-rr3 .actor-man line{stroke:hsl(0, 0%, 83%);fill:#eee;}#mermaid-diagram-rr3 .actor-man circle,#mermaid-diagram-rr3 line{stroke:hsl(0, 0%, 83%);fill:#eee;stroke-width:2px;}#mermaid-diagram-rr3 .flowchart-link{stroke:hsl(var(--gray-400));stroke-width:1px;}#mermaid-diagram-rr3 .marker,#mermaid-diagram-rr3 marker,#mermaid-diagram-rr3 marker *{fill:hsl(var(--gray-400))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rr3 .label,#mermaid-diagram-rr3 text,#mermaid-diagram-rr3 text>tspan{fill:hsl(var(--black))!important;color:hsl(var(--black))!important;}#mermaid-diagram-rr3 .background,#mermaid-diagram-rr3 rect.relationshipLabelBox{fill:hsl(var(--white))!important;}#mermaid-diagram-rr3 .entityBox,#mermaid-diagram-rr3 .attributeBoxEven{fill:hsl(var(--gray-150))!important;}#mermaid-diagram-rr3 .attributeBoxOdd{fill:hsl(var(--white))!important;}#mermaid-diagram-rr3 .label-container,#mermaid-diagram-rr3 rect.actor{fill:hsl(var(--white))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rr3 line{stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rr3 :root{--mermaid-font-family:var(--font-geist-sans);}alt[SQLite-Vec Available][Fallback Mode]UserEnter search keywordAJAX request with source_type and keywordsimilarity_search(source_type, keyword)encode(keyword)query_embeddingLoad extensionExecute vec_distance_cosine queryResults with distancesGet all embeddingsAll embeddingsCalculate cosine similaritiesSorted resultsFormatted search resultsJSON response with paginated resultsDisplay search resultsClick on source textRequest source detailsGet source recordSource detailsSource details JSONDisplay source details modalUser
```

## Class Diagram

```mermaid
Class Diagram.download-icon {
            cursor: pointer;
            transform-origin: center;
        }
        .download-icon .arrow-part {
            transition: transform 0.35s cubic-bezier(0.35, 0.2, 0.14, 0.95);
             transform-origin: center;
        }
        button:has(.download-icon):hover .download-icon .arrow-part, button:has(.download-icon):focus-visible .download-icon .arrow-part {
          transform: translateY(-1.5px);
        }
        #mermaid-diagram-rrb{font-family:var(--font-geist-sans);font-size:12px;fill:#000000;}#mermaid-diagram-rrb .error-icon{fill:#552222;}#mermaid-diagram-rrb .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-rrb .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-rrb .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-rrb .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-rrb .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-rrb .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-rrb .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-rrb .marker{fill:#666;stroke:#666;}#mermaid-diagram-rrb .marker.cross{stroke:#666;}#mermaid-diagram-rrb svg{font-family:var(--font-geist-sans);font-size:12px;}#mermaid-diagram-rrb p{margin:0;}#mermaid-diagram-rrb g.classGroup text{fill:#999;stroke:none;font-family:var(--font-geist-sans);font-size:10px;}#mermaid-diagram-rrb g.classGroup text .title{font-weight:bolder;}#mermaid-diagram-rrb .nodeLabel,#mermaid-diagram-rrb .edgeLabel{color:#111111;}#mermaid-diagram-rrb .edgeLabel .label rect{fill:#eee;}#mermaid-diagram-rrb .label text{fill:#111111;}#mermaid-diagram-rrb .edgeLabel .label span{background:#eee;}#mermaid-diagram-rrb .classTitle{font-weight:bolder;}#mermaid-diagram-rrb .node rect,#mermaid-diagram-rrb .node circle,#mermaid-diagram-rrb .node ellipse,#mermaid-diagram-rrb .node polygon,#mermaid-diagram-rrb .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-diagram-rrb .divider{stroke:#999;stroke-width:1;}#mermaid-diagram-rrb g.clickable{cursor:pointer;}#mermaid-diagram-rrb g.classGroup rect{fill:#eee;stroke:#999;}#mermaid-diagram-rrb g.classGroup line{stroke:#999;stroke-width:1;}#mermaid-diagram-rrb .classLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#mermaid-diagram-rrb .classLabel .label{fill:#999;font-size:10px;}#mermaid-diagram-rrb .relation{stroke:#666;stroke-width:1;fill:none;}#mermaid-diagram-rrb .dashed-line{stroke-dasharray:3;}#mermaid-diagram-rrb .dotted-line{stroke-dasharray:1 2;}#mermaid-diagram-rrb #compositionStart,#mermaid-diagram-rrb .composition{fill:#666!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrb #compositionEnd,#mermaid-diagram-rrb .composition{fill:#666!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrb #dependencyStart,#mermaid-diagram-rrb .dependency{fill:#666!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrb #dependencyStart,#mermaid-diagram-rrb .dependency{fill:#666!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrb #extensionStart,#mermaid-diagram-rrb .extension{fill:transparent!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrb #extensionEnd,#mermaid-diagram-rrb .extension{fill:transparent!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrb #aggregationStart,#mermaid-diagram-rrb .aggregation{fill:transparent!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrb #aggregationEnd,#mermaid-diagram-rrb .aggregation{fill:transparent!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrb #lollipopStart,#mermaid-diagram-rrb .lollipop{fill:#eee!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrb #lollipopEnd,#mermaid-diagram-rrb .lollipop{fill:#eee!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrb .edgeTerminals{font-size:11px;line-height:initial;}#mermaid-diagram-rrb .classTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-rrb .flowchart-link{stroke:hsl(var(--gray-400));stroke-width:1px;}#mermaid-diagram-rrb .marker,#mermaid-diagram-rrb marker,#mermaid-diagram-rrb marker *{fill:hsl(var(--gray-400))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rrb .label,#mermaid-diagram-rrb text,#mermaid-diagram-rrb text>tspan{fill:hsl(var(--black))!important;color:hsl(var(--black))!important;}#mermaid-diagram-rrb .background,#mermaid-diagram-rrb rect.relationshipLabelBox{fill:hsl(var(--white))!important;}#mermaid-diagram-rrb .entityBox,#mermaid-diagram-rrb .attributeBoxEven{fill:hsl(var(--gray-150))!important;}#mermaid-diagram-rrb .attributeBoxOdd{fill:hsl(var(--white))!important;}#mermaid-diagram-rrb .label-container,#mermaid-diagram-rrb rect.actor{fill:hsl(var(--white))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rrb line{stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rrb :root{--mermaid-font-family:var(--font-geist-sans);}extendsusesusesusesusesCustomUser-email: EmailField+USERNAME_FIELD: str+REQUIRED_FIELDS: list+__str__() : : strCustomUserManager+_create_user(email, password, **extra_fields) : : User+create_user(email, password, **extra_fields) : : User+create_superuser(email, password, **extra_fields) : : UserVectorSearchManager-model: SentenceTransformer-sqlite_vec_available: bool+__init__()+_check_sqlite_vec_availability() : : bool+get_embedding(text) : : list+similarity_search(source_type, query_text, limit) : : list-_sqlite_vec_search(db_path, query_embedding, limit) : : list-_fallback_similarity_search(db_path, query_embedding, limit) : : list-_cosine_similarity(vec1, vec2) : : floatSetupVectorDBsCommand-model: SentenceTransformer-sqlite_vec_available: bool+handle(*args, **options) : : None-_check_sqlite_vec_availability() : : bool+setup_database(source_type) : : None+populate_sample_data(source_type) : : None+generate_sample_data(source_type) : : listViews+signup(request) : : HttpResponse+signin(request) : : HttpResponse+signout(request) : : HttpResponse+home(request) : : HttpResponse+search_ajax(request) : : JsonResponse+source_detail(request) : : JsonResponseAbstractUserSentenceTransformer
```

## Database ER Diagram

```mermaid
Database ER Diagram.download-icon {
            cursor: pointer;
            transform-origin: center;
        }
        .download-icon .arrow-part {
            transition: transform 0.35s cubic-bezier(0.35, 0.2, 0.14, 0.95);
             transform-origin: center;
        }
        button:has(.download-icon):hover .download-icon .arrow-part, button:has(.download-icon):focus-visible .download-icon .arrow-part {
          transform: translateY(-1.5px);
        }
        #mermaid-diagram-rrj{font-family:var(--font-geist-sans);font-size:12px;fill:#000000;}#mermaid-diagram-rrj .error-icon{fill:#552222;}#mermaid-diagram-rrj .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-rrj .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-rrj .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-rrj .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-rrj .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-rrj .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-rrj .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-rrj .marker{fill:#666;stroke:#666;}#mermaid-diagram-rrj .marker.cross{stroke:#666;}#mermaid-diagram-rrj svg{font-family:var(--font-geist-sans);font-size:12px;}#mermaid-diagram-rrj p{margin:0;}#mermaid-diagram-rrj .entityBox{fill:#eee;stroke:#999;}#mermaid-diagram-rrj .attributeBoxOdd{fill:#ffffff;stroke:#999;}#mermaid-diagram-rrj .attributeBoxEven{fill:#f2f2f2;stroke:#999;}#mermaid-diagram-rrj .relationshipLabelBox{fill:hsl(-160, 0%, 93.3333333333%);opacity:0.7;background-color:hsl(-160, 0%, 93.3333333333%);}#mermaid-diagram-rrj .relationshipLabelBox rect{opacity:0.5;}#mermaid-diagram-rrj .relationshipLine{stroke:#666;}#mermaid-diagram-rrj .entityTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-rrj #MD_PARENT_START{fill:#f5f5f5!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrj #MD_PARENT_END{fill:#f5f5f5!important;stroke:#666!important;stroke-width:1;}#mermaid-diagram-rrj .flowchart-link{stroke:hsl(var(--gray-400));stroke-width:1px;}#mermaid-diagram-rrj .marker,#mermaid-diagram-rrj marker,#mermaid-diagram-rrj marker *{fill:hsl(var(--gray-400))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rrj .label,#mermaid-diagram-rrj text,#mermaid-diagram-rrj text>tspan{fill:hsl(var(--black))!important;color:hsl(var(--black))!important;}#mermaid-diagram-rrj .background,#mermaid-diagram-rrj rect.relationshipLabelBox{fill:hsl(var(--white))!important;}#mermaid-diagram-rrj .entityBox,#mermaid-diagram-rrj .attributeBoxEven{fill:hsl(var(--gray-150))!important;}#mermaid-diagram-rrj .attributeBoxOdd{fill:hsl(var(--white))!important;}#mermaid-diagram-rrj .label-container,#mermaid-diagram-rrj rect.actor{fill:hsl(var(--white))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rrj line{stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rrj :root{--mermaid-font-family:var(--font-geist-sans);}CUSTOM_USERidintPKemailstringUKpasswordstringfirst_namestringlast_namestringis_activebooleanis_staffbooleanis_superuserbooleandate_joineddatetimelast_logindatetimeSOURCE_TBLidintPKsource_texttextcategorystringcreated_datestringauthorstringdepartmentstringprioritystringstatusstringEMBEDDING_TBLidintPKsource_idintFKembedding_vecttextmetadatatexthas
```

## User Authentication Flow

```mermaid
Failed to render diagram
```

## Data Population Process

```mermaid
Data Population Process.download-icon {
            cursor: pointer;
            transform-origin: center;
        }
        .download-icon .arrow-part {
            transition: transform 0.35s cubic-bezier(0.35, 0.2, 0.14, 0.95);
             transform-origin: center;
        }
        button:has(.download-icon):hover .download-icon .arrow-part, button:has(.download-icon):focus-visible .download-icon .arrow-part {
          transform: translateY(-1.5px);
        }
        #mermaid-diagram-rs1{font-family:var(--font-geist-sans);font-size:12px;fill:#000000;}#mermaid-diagram-rs1 .error-icon{fill:#552222;}#mermaid-diagram-rs1 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-rs1 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-rs1 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-rs1 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-rs1 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-rs1 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-rs1 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-rs1 .marker{fill:#666;stroke:#666;}#mermaid-diagram-rs1 .marker.cross{stroke:#666;}#mermaid-diagram-rs1 svg{font-family:var(--font-geist-sans);font-size:12px;}#mermaid-diagram-rs1 p{margin:0;}#mermaid-diagram-rs1 .label{font-family:var(--font-geist-sans);color:#000000;}#mermaid-diagram-rs1 .cluster-label text{fill:#333;}#mermaid-diagram-rs1 .cluster-label span{color:#333;}#mermaid-diagram-rs1 .cluster-label span p{background-color:transparent;}#mermaid-diagram-rs1 .label text,#mermaid-diagram-rs1 span{fill:#000000;color:#000000;}#mermaid-diagram-rs1 .node rect,#mermaid-diagram-rs1 .node circle,#mermaid-diagram-rs1 .node ellipse,#mermaid-diagram-rs1 .node polygon,#mermaid-diagram-rs1 .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-diagram-rs1 .rough-node .label text,#mermaid-diagram-rs1 .node .label text{text-anchor:middle;}#mermaid-diagram-rs1 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-diagram-rs1 .node .label{text-align:center;}#mermaid-diagram-rs1 .node.clickable{cursor:pointer;}#mermaid-diagram-rs1 .arrowheadPath{fill:#333333;}#mermaid-diagram-rs1 .edgePath .path{stroke:#666;stroke-width:2.0px;}#mermaid-diagram-rs1 .flowchart-link{stroke:#666;fill:none;}#mermaid-diagram-rs1 .edgeLabel{background-color:white;text-align:center;}#mermaid-diagram-rs1 .edgeLabel p{background-color:white;}#mermaid-diagram-rs1 .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-rs1 .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-diagram-rs1 .cluster rect{fill:hsl(0, 0%, 98.9215686275%);stroke:#707070;stroke-width:1px;}#mermaid-diagram-rs1 .cluster text{fill:#333;}#mermaid-diagram-rs1 .cluster span{color:#333;}#mermaid-diagram-rs1 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:var(--font-geist-sans);font-size:12px;background:hsl(-160, 0%, 93.3333333333%);border:1px solid #707070;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-diagram-rs1 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-rs1 .flowchart-link{stroke:hsl(var(--gray-400));stroke-width:1px;}#mermaid-diagram-rs1 .marker,#mermaid-diagram-rs1 marker,#mermaid-diagram-rs1 marker *{fill:hsl(var(--gray-400))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rs1 .label,#mermaid-diagram-rs1 text,#mermaid-diagram-rs1 text>tspan{fill:hsl(var(--black))!important;color:hsl(var(--black))!important;}#mermaid-diagram-rs1 .background,#mermaid-diagram-rs1 rect.relationshipLabelBox{fill:hsl(var(--white))!important;}#mermaid-diagram-rs1 .entityBox,#mermaid-diagram-rs1 .attributeBoxEven{fill:hsl(var(--gray-150))!important;}#mermaid-diagram-rs1 .attributeBoxOdd{fill:hsl(var(--white))!important;}#mermaid-diagram-rs1 .label-container,#mermaid-diagram-rs1 rect.actor{fill:hsl(var(--white))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rs1 line{stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rs1 :root{--mermaid-font-family:var(--font-geist-sans);}#mermaid-diagram-rs1 .process rect{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs1 .process polygon{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs1 .process ellipse{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs1 .process circle{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs1 .process path{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs1 .decision rect{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs1 .decision polygon{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs1 .decision ellipse{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs1 .decision circle{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs1 .decision path{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs1 .start rect{fill:#bfb!important;stroke:#333!important;stroke-width:2px!important;}#mermaid-diagram-rs1 .start polygon{fill:#bfb!important;stroke:#333!important;stroke-width:2px!important;}#mermaid-diagram-rs1 .start ellipse{fill:#bfb!important;stroke:#333!important;stroke-width:2px!important;}#mermaid-diagram-rs1 .start circle{fill:#bfb!important;stroke:#333!important;stroke-width:2px!important;}#mermaid-diagram-rs1 .start path{fill:#bfb!important;stroke:#333!important;stroke-width:2px!important;}For each batchYesNoYesNoStart setup_vector_dbs commandCheck sqlite-vec availabilityCreate vector_dbs directoryLoop through source typesSetup database tablesGenerate sample dataProcess in batchesInsert source recordsGet source IDsGenerate embeddingsInsert embeddingsMore batches?More source types?End setup process
```

## Search Request Flow

```mermaid
Search Request Flow.download-icon {
            cursor: pointer;
            transform-origin: center;
        }
        .download-icon .arrow-part {
            transition: transform 0.35s cubic-bezier(0.35, 0.2, 0.14, 0.95);
             transform-origin: center;
        }
        button:has(.download-icon):hover .download-icon .arrow-part, button:has(.download-icon):focus-visible .download-icon .arrow-part {
          transform: translateY(-1.5px);
        }
        #mermaid-diagram-rs8{font-family:var(--font-geist-sans);font-size:12px;fill:#000000;}#mermaid-diagram-rs8 .error-icon{fill:#552222;}#mermaid-diagram-rs8 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-rs8 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-rs8 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-rs8 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-rs8 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-rs8 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-rs8 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-rs8 .marker{fill:#666;stroke:#666;}#mermaid-diagram-rs8 .marker.cross{stroke:#666;}#mermaid-diagram-rs8 svg{font-family:var(--font-geist-sans);font-size:12px;}#mermaid-diagram-rs8 p{margin:0;}#mermaid-diagram-rs8 .label{font-family:var(--font-geist-sans);color:#000000;}#mermaid-diagram-rs8 .cluster-label text{fill:#333;}#mermaid-diagram-rs8 .cluster-label span{color:#333;}#mermaid-diagram-rs8 .cluster-label span p{background-color:transparent;}#mermaid-diagram-rs8 .label text,#mermaid-diagram-rs8 span{fill:#000000;color:#000000;}#mermaid-diagram-rs8 .node rect,#mermaid-diagram-rs8 .node circle,#mermaid-diagram-rs8 .node ellipse,#mermaid-diagram-rs8 .node polygon,#mermaid-diagram-rs8 .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-diagram-rs8 .rough-node .label text,#mermaid-diagram-rs8 .node .label text{text-anchor:middle;}#mermaid-diagram-rs8 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-diagram-rs8 .node .label{text-align:center;}#mermaid-diagram-rs8 .node.clickable{cursor:pointer;}#mermaid-diagram-rs8 .arrowheadPath{fill:#333333;}#mermaid-diagram-rs8 .edgePath .path{stroke:#666;stroke-width:2.0px;}#mermaid-diagram-rs8 .flowchart-link{stroke:#666;fill:none;}#mermaid-diagram-rs8 .edgeLabel{background-color:white;text-align:center;}#mermaid-diagram-rs8 .edgeLabel p{background-color:white;}#mermaid-diagram-rs8 .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-rs8 .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-diagram-rs8 .cluster rect{fill:hsl(0, 0%, 98.9215686275%);stroke:#707070;stroke-width:1px;}#mermaid-diagram-rs8 .cluster text{fill:#333;}#mermaid-diagram-rs8 .cluster span{color:#333;}#mermaid-diagram-rs8 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:var(--font-geist-sans);font-size:12px;background:hsl(-160, 0%, 93.3333333333%);border:1px solid #707070;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-diagram-rs8 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-rs8 .flowchart-link{stroke:hsl(var(--gray-400));stroke-width:1px;}#mermaid-diagram-rs8 .marker,#mermaid-diagram-rs8 marker,#mermaid-diagram-rs8 marker *{fill:hsl(var(--gray-400))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rs8 .label,#mermaid-diagram-rs8 text,#mermaid-diagram-rs8 text>tspan{fill:hsl(var(--black))!important;color:hsl(var(--black))!important;}#mermaid-diagram-rs8 .background,#mermaid-diagram-rs8 rect.relationshipLabelBox{fill:hsl(var(--white))!important;}#mermaid-diagram-rs8 .entityBox,#mermaid-diagram-rs8 .attributeBoxEven{fill:hsl(var(--gray-150))!important;}#mermaid-diagram-rs8 .attributeBoxOdd{fill:hsl(var(--white))!important;}#mermaid-diagram-rs8 .label-container,#mermaid-diagram-rs8 rect.actor{fill:hsl(var(--white))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rs8 line{stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rs8 :root{--mermaid-font-family:var(--font-geist-sans);}#mermaid-diagram-rs8 .userAction rect{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .userAction polygon{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .userAction ellipse{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .userAction circle{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .userAction path{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .serverProcess rect{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .serverProcess polygon{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .serverProcess ellipse{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .serverProcess circle{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .serverProcess path{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .decision rect{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .decision polygon{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .decision ellipse{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .decision circle{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rs8 .decision path{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}YesNoClick sourceChange pageUser initiates searchValidate inputGenerate embedding for querysqlite-vec available?Use sqlite-vec for searchUse fallback searchFormat resultsPaginate resultsReturn JSON responseRender results in UIUser interactionFetch source detailsChange pageShow details modal
```

## Project Directory Structure

```mermaid
Project Directory Structure.download-icon {
            cursor: pointer;
            transform-origin: center;
        }
        .download-icon .arrow-part {
            transition: transform 0.35s cubic-bezier(0.35, 0.2, 0.14, 0.95);
             transform-origin: center;
        }
        button:has(.download-icon):hover .download-icon .arrow-part, button:has(.download-icon):focus-visible .download-icon .arrow-part {
          transform: translateY(-1.5px);
        }
        #mermaid-diagram-rsg{font-family:var(--font-geist-sans);font-size:12px;fill:#000000;}#mermaid-diagram-rsg .error-icon{fill:#552222;}#mermaid-diagram-rsg .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-rsg .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-rsg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-rsg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-rsg .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-rsg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-rsg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-rsg .marker{fill:#666;stroke:#666;}#mermaid-diagram-rsg .marker.cross{stroke:#666;}#mermaid-diagram-rsg svg{font-family:var(--font-geist-sans);font-size:12px;}#mermaid-diagram-rsg p{margin:0;}#mermaid-diagram-rsg .label{font-family:var(--font-geist-sans);color:#000000;}#mermaid-diagram-rsg .cluster-label text{fill:#333;}#mermaid-diagram-rsg .cluster-label span{color:#333;}#mermaid-diagram-rsg .cluster-label span p{background-color:transparent;}#mermaid-diagram-rsg .label text,#mermaid-diagram-rsg span{fill:#000000;color:#000000;}#mermaid-diagram-rsg .node rect,#mermaid-diagram-rsg .node circle,#mermaid-diagram-rsg .node ellipse,#mermaid-diagram-rsg .node polygon,#mermaid-diagram-rsg .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-diagram-rsg .rough-node .label text,#mermaid-diagram-rsg .node .label text{text-anchor:middle;}#mermaid-diagram-rsg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-diagram-rsg .node .label{text-align:center;}#mermaid-diagram-rsg .node.clickable{cursor:pointer;}#mermaid-diagram-rsg .arrowheadPath{fill:#333333;}#mermaid-diagram-rsg .edgePath .path{stroke:#666;stroke-width:2.0px;}#mermaid-diagram-rsg .flowchart-link{stroke:#666;fill:none;}#mermaid-diagram-rsg .edgeLabel{background-color:white;text-align:center;}#mermaid-diagram-rsg .edgeLabel p{background-color:white;}#mermaid-diagram-rsg .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-rsg .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-diagram-rsg .cluster rect{fill:hsl(0, 0%, 98.9215686275%);stroke:#707070;stroke-width:1px;}#mermaid-diagram-rsg .cluster text{fill:#333;}#mermaid-diagram-rsg .cluster span{color:#333;}#mermaid-diagram-rsg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:var(--font-geist-sans);font-size:12px;background:hsl(-160, 0%, 93.3333333333%);border:1px solid #707070;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-diagram-rsg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-rsg .flowchart-link{stroke:hsl(var(--gray-400));stroke-width:1px;}#mermaid-diagram-rsg .marker,#mermaid-diagram-rsg marker,#mermaid-diagram-rsg marker *{fill:hsl(var(--gray-400))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rsg .label,#mermaid-diagram-rsg text,#mermaid-diagram-rsg text>tspan{fill:hsl(var(--black))!important;color:hsl(var(--black))!important;}#mermaid-diagram-rsg .background,#mermaid-diagram-rsg rect.relationshipLabelBox{fill:hsl(var(--white))!important;}#mermaid-diagram-rsg .entityBox,#mermaid-diagram-rsg .attributeBoxEven{fill:hsl(var(--gray-150))!important;}#mermaid-diagram-rsg .attributeBoxOdd{fill:hsl(var(--white))!important;}#mermaid-diagram-rsg .label-container,#mermaid-diagram-rsg rect.actor{fill:hsl(var(--white))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rsg line{stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rsg :root{--mermaid-font-family:var(--font-geist-sans);}#mermaid-diagram-rsg .python rect{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .python polygon{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .python ellipse{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .python circle{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .python path{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .html rect{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .html polygon{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .html ellipse{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .html circle{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .html path{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .db rect{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .db polygon{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .db ellipse{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .db circle{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .db path{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .dir rect{fill:#ffb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .dir polygon{fill:#ffb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .dir ellipse{fill:#ffb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .dir circle{fill:#ffb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rsg .dir path{fill:#ffb!important;stroke:#333!important;stroke-width:1px!important;}similarity_search/manage.pyrequirements.txtREADME.mdsimilarity_search/init .pysettings.pyurls.pywsgi.pysimilarity_search_app/init .pyadmin.pyapps.pymodels.pyurls.pyviews.pyvector_utils.pymanagement/init .pycommands/init .pysetup_vector_dbs.pytemplates/base.htmlhome.htmlsignin.htmlsignup.htmlvector_dbs/admin.dbit.dbfinance.dbhr.db
```

## Fallback vs SQLite-Vec Comparison

```mermaid
Fallback vs SQLite-Vec Comparison.download-icon {
            cursor: pointer;
            transform-origin: center;
        }
        .download-icon .arrow-part {
            transition: transform 0.35s cubic-bezier(0.35, 0.2, 0.14, 0.95);
             transform-origin: center;
        }
        button:has(.download-icon):hover .download-icon .arrow-part, button:has(.download-icon):focus-visible .download-icon .arrow-part {
          transform: translateY(-1.5px);
        }
        #mermaid-diagram-rso{font-family:var(--font-geist-sans);font-size:12px;fill:#000000;}#mermaid-diagram-rso .error-icon{fill:#552222;}#mermaid-diagram-rso .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-rso .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-rso .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-rso .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-rso .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-rso .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-rso .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-rso .marker{fill:#666;stroke:#666;}#mermaid-diagram-rso .marker.cross{stroke:#666;}#mermaid-diagram-rso svg{font-family:var(--font-geist-sans);font-size:12px;}#mermaid-diagram-rso p{margin:0;}#mermaid-diagram-rso .label{font-family:var(--font-geist-sans);color:#000000;}#mermaid-diagram-rso .cluster-label text{fill:#333;}#mermaid-diagram-rso .cluster-label span{color:#333;}#mermaid-diagram-rso .cluster-label span p{background-color:transparent;}#mermaid-diagram-rso .label text,#mermaid-diagram-rso span{fill:#000000;color:#000000;}#mermaid-diagram-rso .node rect,#mermaid-diagram-rso .node circle,#mermaid-diagram-rso .node ellipse,#mermaid-diagram-rso .node polygon,#mermaid-diagram-rso .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-diagram-rso .rough-node .label text,#mermaid-diagram-rso .node .label text{text-anchor:middle;}#mermaid-diagram-rso .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-diagram-rso .node .label{text-align:center;}#mermaid-diagram-rso .node.clickable{cursor:pointer;}#mermaid-diagram-rso .arrowheadPath{fill:#333333;}#mermaid-diagram-rso .edgePath .path{stroke:#666;stroke-width:2.0px;}#mermaid-diagram-rso .flowchart-link{stroke:#666;fill:none;}#mermaid-diagram-rso .edgeLabel{background-color:white;text-align:center;}#mermaid-diagram-rso .edgeLabel p{background-color:white;}#mermaid-diagram-rso .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-rso .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-diagram-rso .cluster rect{fill:hsl(0, 0%, 98.9215686275%);stroke:#707070;stroke-width:1px;}#mermaid-diagram-rso .cluster text{fill:#333;}#mermaid-diagram-rso .cluster span{color:#333;}#mermaid-diagram-rso div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:var(--font-geist-sans);font-size:12px;background:hsl(-160, 0%, 93.3333333333%);border:1px solid #707070;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-diagram-rso .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-rso .flowchart-link{stroke:hsl(var(--gray-400));stroke-width:1px;}#mermaid-diagram-rso .marker,#mermaid-diagram-rso marker,#mermaid-diagram-rso marker *{fill:hsl(var(--gray-400))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rso .label,#mermaid-diagram-rso text,#mermaid-diagram-rso text>tspan{fill:hsl(var(--black))!important;color:hsl(var(--black))!important;}#mermaid-diagram-rso .background,#mermaid-diagram-rso rect.relationshipLabelBox{fill:hsl(var(--white))!important;}#mermaid-diagram-rso .entityBox,#mermaid-diagram-rso .attributeBoxEven{fill:hsl(var(--gray-150))!important;}#mermaid-diagram-rso .attributeBoxOdd{fill:hsl(var(--white))!important;}#mermaid-diagram-rso .label-container,#mermaid-diagram-rso rect.actor{fill:hsl(var(--white))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rso line{stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rso :root{--mermaid-font-family:var(--font-geist-sans);}#mermaid-diagram-rso .process rect{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .process polygon{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .process ellipse{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .process circle{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .process path{fill:#bbf!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .decision rect{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .decision polygon{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .decision ellipse{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .decision circle{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .decision path{fill:#fbb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .endpoint rect{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .endpoint polygon{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .endpoint ellipse{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .endpoint circle{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}#mermaid-diagram-rso .endpoint path{fill:#bfb!important;stroke:#333!important;stroke-width:1px!important;}Fallback Path (Slower)SQLite-Vec Path (Fast)YesNoSearch Requestsqlite-vec available?SQLite-Vec PathFallback PathLoad SQLite-Vec ExtensionExecute vec_distance_cosineQueryGet Results with DistancesGet All EmbeddingsCalculate Similarity for EachSort by SimilarityLimit to Top ResultsFormat Results
```

## User Interface Flow

```mermaid
User Interface Flow.download-icon {
            cursor: pointer;
            transform-origin: center;
        }
        .download-icon .arrow-part {
            transition: transform 0.35s cubic-bezier(0.35, 0.2, 0.14, 0.95);
             transform-origin: center;
        }
        button:has(.download-icon):hover .download-icon .arrow-part, button:has(.download-icon):focus-visible .download-icon .arrow-part {
          transform: translateY(-1.5px);
        }
        #mermaid-diagram-rt0{font-family:var(--font-geist-sans);font-size:12px;fill:#000000;}#mermaid-diagram-rt0 .error-icon{fill:#552222;}#mermaid-diagram-rt0 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-rt0 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-rt0 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-rt0 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-rt0 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-rt0 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-rt0 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-rt0 .marker{fill:#666;stroke:#666;}#mermaid-diagram-rt0 .marker.cross{stroke:#666;}#mermaid-diagram-rt0 svg{font-family:var(--font-geist-sans);font-size:12px;}#mermaid-diagram-rt0 p{margin:0;}#mermaid-diagram-rt0 defs #statediagram-barbEnd{fill:#000;stroke:#000;}#mermaid-diagram-rt0 g.stateGroup text{fill:#999;stroke:none;font-size:10px;}#mermaid-diagram-rt0 g.stateGroup text{fill:#000000;stroke:none;font-size:10px;}#mermaid-diagram-rt0 g.stateGroup .state-title{font-weight:bolder;fill:#111111;}#mermaid-diagram-rt0 g.stateGroup rect{fill:#eee;stroke:#999;}#mermaid-diagram-rt0 g.stateGroup line{stroke:#666;stroke-width:1;}#mermaid-diagram-rt0 .transition{stroke:#000;stroke-width:1;fill:none;}#mermaid-diagram-rt0 .stateGroup .composit{fill:#ffffff;border-bottom:1px;}#mermaid-diagram-rt0 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-diagram-rt0 .state-note{stroke:#999;fill:#666;}#mermaid-diagram-rt0 .state-note text{fill:#fff;stroke:none;font-size:10px;}#mermaid-diagram-rt0 .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#mermaid-diagram-rt0 .edgeLabel .label rect{fill:#eee;opacity:0.5;}#mermaid-diagram-rt0 .edgeLabel{background-color:white;text-align:center;}#mermaid-diagram-rt0 .edgeLabel p{background-color:white;}#mermaid-diagram-rt0 .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-rt0 .edgeLabel .label text{fill:#000000;}#mermaid-diagram-rt0 .label div .edgeLabel{color:#000000;}#mermaid-diagram-rt0 .stateLabel text{fill:#111111;font-size:10px;font-weight:bold;}#mermaid-diagram-rt0 .node circle.state-start{fill:#222;stroke:#222;}#mermaid-diagram-rt0 .node .fork-join{fill:#222;stroke:#222;}#mermaid-diagram-rt0 .node circle.state-end{fill:hsl(0, 0%, 83.3333333333%);stroke:#ffffff;stroke-width:1.5;}#mermaid-diagram-rt0 .end-state-inner{fill:#ffffff;stroke-width:1.5;}#mermaid-diagram-rt0 .node rect{fill:#eee;stroke:#000;stroke-width:1px;}#mermaid-diagram-rt0 .node polygon{fill:#eee;stroke:#000;stroke-width:1px;}#mermaid-diagram-rt0 #statediagram-barbEnd{fill:#666;}#mermaid-diagram-rt0 .statediagram-cluster rect{fill:#eee;stroke:#000;stroke-width:1px;}#mermaid-diagram-rt0 .cluster-label,#mermaid-diagram-rt0 .nodeLabel{color:#111111;}#mermaid-diagram-rt0 .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-diagram-rt0 .statediagram-state .divider{stroke:#000;}#mermaid-diagram-rt0 .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-diagram-rt0 .statediagram-cluster.statediagram-cluster .inner{fill:#ffffff;}#mermaid-diagram-rt0 .statediagram-cluster.statediagram-cluster-alt .inner{fill:#f4f4f4;}#mermaid-diagram-rt0 .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-diagram-rt0 .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-diagram-rt0 .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#f4f4f4;}#mermaid-diagram-rt0 .note-edge{stroke-dasharray:5;}#mermaid-diagram-rt0 .statediagram-note rect{fill:#666;stroke:#999;stroke-width:1px;rx:0;ry:0;}#mermaid-diagram-rt0 .statediagram-note rect{fill:#666;stroke:#999;stroke-width:1px;rx:0;ry:0;}#mermaid-diagram-rt0 .statediagram-note text{fill:#fff;}#mermaid-diagram-rt0 .statediagram-note .nodeLabel{color:#fff;}#mermaid-diagram-rt0 .statediagram .edgeLabel{color:red;}#mermaid-diagram-rt0 #dependencyStart,#mermaid-diagram-rt0 #dependencyEnd{fill:#666;stroke:#666;stroke-width:1;}#mermaid-diagram-rt0 .statediagramTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-rt0 .flowchart-link{stroke:hsl(var(--gray-400));stroke-width:1px;}#mermaid-diagram-rt0 .marker,#mermaid-diagram-rt0 marker,#mermaid-diagram-rt0 marker *{fill:hsl(var(--gray-400))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rt0 .label,#mermaid-diagram-rt0 text,#mermaid-diagram-rt0 text>tspan{fill:hsl(var(--black))!important;color:hsl(var(--black))!important;}#mermaid-diagram-rt0 .background,#mermaid-diagram-rt0 rect.relationshipLabelBox{fill:hsl(var(--white))!important;}#mermaid-diagram-rt0 .entityBox,#mermaid-diagram-rt0 .attributeBoxEven{fill:hsl(var(--gray-150))!important;}#mermaid-diagram-rt0 .attributeBoxOdd{fill:hsl(var(--white))!important;}#mermaid-diagram-rt0 .label-container,#mermaid-diagram-rt0 rect.actor{fill:hsl(var(--white))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rt0 line{stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rt0 :root{--mermaid-font-family:var(--font-geist-sans);}&quot;Create Account&quot;&quot;Account Created&quot;&quot;Successful Login&quot;&quot;Sign Out&quot;SignInSignUpHome&quot;Submit Search&quot;&quot;Navigate Pages&quot;&quot;Change Page&quot;&quot;Click Source&quot;&quot;Close Modal&quot;SearchFormSearchResultsPaginationSourceDetail
```

These diagrams provide a comprehensive visual representation of the Similarity Search project's architecture, workflows, and data structures. They can be used for documentation, onboarding new team members, or planning future enhancements to the system.


Here's an improved and more detailed User Authentication Flow diagram:

```mermaid
User Authentication Flow.download-icon {
            cursor: pointer;
            transform-origin: center;
        }
        .download-icon .arrow-part {
            transition: transform 0.35s cubic-bezier(0.35, 0.2, 0.14, 0.95);
             transform-origin: center;
        }
        button:has(.download-icon):hover .download-icon .arrow-part, button:has(.download-icon):focus-visible .download-icon .arrow-part {
          transform: translateY(-1.5px);
        }
        #mermaid-diagram-rvg{font-family:var(--font-geist-sans);font-size:12px;fill:#000000;}#mermaid-diagram-rvg .error-icon{fill:#552222;}#mermaid-diagram-rvg .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-rvg .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-rvg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-rvg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-rvg .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-rvg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-rvg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-rvg .marker{fill:#666;stroke:#666;}#mermaid-diagram-rvg .marker.cross{stroke:#666;}#mermaid-diagram-rvg svg{font-family:var(--font-geist-sans);font-size:12px;}#mermaid-diagram-rvg p{margin:0;}#mermaid-diagram-rvg defs #statediagram-barbEnd{fill:#000;stroke:#000;}#mermaid-diagram-rvg g.stateGroup text{fill:#999;stroke:none;font-size:10px;}#mermaid-diagram-rvg g.stateGroup text{fill:#000000;stroke:none;font-size:10px;}#mermaid-diagram-rvg g.stateGroup .state-title{font-weight:bolder;fill:#111111;}#mermaid-diagram-rvg g.stateGroup rect{fill:#eee;stroke:#999;}#mermaid-diagram-rvg g.stateGroup line{stroke:#666;stroke-width:1;}#mermaid-diagram-rvg .transition{stroke:#000;stroke-width:1;fill:none;}#mermaid-diagram-rvg .stateGroup .composit{fill:#ffffff;border-bottom:1px;}#mermaid-diagram-rvg .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-diagram-rvg .state-note{stroke:#999;fill:#666;}#mermaid-diagram-rvg .state-note text{fill:#fff;stroke:none;font-size:10px;}#mermaid-diagram-rvg .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#mermaid-diagram-rvg .edgeLabel .label rect{fill:#eee;opacity:0.5;}#mermaid-diagram-rvg .edgeLabel{background-color:white;text-align:center;}#mermaid-diagram-rvg .edgeLabel p{background-color:white;}#mermaid-diagram-rvg .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-rvg .edgeLabel .label text{fill:#000000;}#mermaid-diagram-rvg .label div .edgeLabel{color:#000000;}#mermaid-diagram-rvg .stateLabel text{fill:#111111;font-size:10px;font-weight:bold;}#mermaid-diagram-rvg .node circle.state-start{fill:#222;stroke:#222;}#mermaid-diagram-rvg .node .fork-join{fill:#222;stroke:#222;}#mermaid-diagram-rvg .node circle.state-end{fill:hsl(0, 0%, 83.3333333333%);stroke:#ffffff;stroke-width:1.5;}#mermaid-diagram-rvg .end-state-inner{fill:#ffffff;stroke-width:1.5;}#mermaid-diagram-rvg .node rect{fill:#eee;stroke:#000;stroke-width:1px;}#mermaid-diagram-rvg .node polygon{fill:#eee;stroke:#000;stroke-width:1px;}#mermaid-diagram-rvg #statediagram-barbEnd{fill:#666;}#mermaid-diagram-rvg .statediagram-cluster rect{fill:#eee;stroke:#000;stroke-width:1px;}#mermaid-diagram-rvg .cluster-label,#mermaid-diagram-rvg .nodeLabel{color:#111111;}#mermaid-diagram-rvg .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-diagram-rvg .statediagram-state .divider{stroke:#000;}#mermaid-diagram-rvg .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-diagram-rvg .statediagram-cluster.statediagram-cluster .inner{fill:#ffffff;}#mermaid-diagram-rvg .statediagram-cluster.statediagram-cluster-alt .inner{fill:#f4f4f4;}#mermaid-diagram-rvg .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-diagram-rvg .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-diagram-rvg .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#f4f4f4;}#mermaid-diagram-rvg .note-edge{stroke-dasharray:5;}#mermaid-diagram-rvg .statediagram-note rect{fill:#666;stroke:#999;stroke-width:1px;rx:0;ry:0;}#mermaid-diagram-rvg .statediagram-note rect{fill:#666;stroke:#999;stroke-width:1px;rx:0;ry:0;}#mermaid-diagram-rvg .statediagram-note text{fill:#fff;}#mermaid-diagram-rvg .statediagram-note .nodeLabel{color:#fff;}#mermaid-diagram-rvg .statediagram .edgeLabel{color:red;}#mermaid-diagram-rvg #dependencyStart,#mermaid-diagram-rvg #dependencyEnd{fill:#666;stroke:#666;stroke-width:1;}#mermaid-diagram-rvg .statediagramTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-rvg .flowchart-link{stroke:hsl(var(--gray-400));stroke-width:1px;}#mermaid-diagram-rvg .marker,#mermaid-diagram-rvg marker,#mermaid-diagram-rvg marker *{fill:hsl(var(--gray-400))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rvg .label,#mermaid-diagram-rvg text,#mermaid-diagram-rvg text>tspan{fill:hsl(var(--black))!important;color:hsl(var(--black))!important;}#mermaid-diagram-rvg .background,#mermaid-diagram-rvg rect.relationshipLabelBox{fill:hsl(var(--white))!important;}#mermaid-diagram-rvg .entityBox,#mermaid-diagram-rvg .attributeBoxEven{fill:hsl(var(--gray-150))!important;}#mermaid-diagram-rvg .attributeBoxOdd{fill:hsl(var(--white))!important;}#mermaid-diagram-rvg .label-container,#mermaid-diagram-rvg rect.actor{fill:hsl(var(--white))!important;stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rvg line{stroke:hsl(var(--gray-400))!important;}#mermaid-diagram-rvg :root{--mermaid-font-family:var(--font-geist-sans);}Unauthenticated StatesAuthenticated StatesValidateSignInValidateSignUpSessionManagementUser visits siteClick Sign InClick Sign UpCheck email formatEmail validEmail invalid/not foundPassword correctPassword incorrectShow error messageValidate emailEmail validEmail invalid/existsPassword validPassword invalidShow error messageAccount createdClick forgot passwordSubmit emailEmail validClick reset linkSubmit new passwordPassword reset successCreate sessionRedirect to homeView profilePerform searchEdit profileSave changesSession activeSession expiredContinue browsingRedirect to sign inClick sign outClick sign outClick sign outClear session dataRedirect to landing pageSubmit credentialsSubmit registrationLandingPageSignInPageSignUpPageCheckCredentialsEmailCheckPasswordCheckSignInErrorAuthSuccessRegisterUserEmailValidationPasswordValidationSignUpErrorCreateAccountForgotPasswordPasswordResetRequestPasswordResetSentPasswordResetPagePasswordResetConfirmAuthenticatedStateHomePageProfilePageSearchPageEditProfileCheckSessionSessionValidSessionExpiredContinueSessionSignOutActionDestroySessionDjango authenticate() functionchecks credentials against DBDjango UserManager.create_user()creates new user in databaseDjango session middlewarehandles session validation
```

This enhanced User Authentication Flow diagram provides a more comprehensive view of the authentication process in the Similarity Search application. It includes:

1. **Initial Entry Points**: Shows how users can enter the authentication flow from the landing page
2. **Detailed Validation**: Breaks down the validation process for both sign-in and sign-up
3. **Password Reset Flow**: Includes the complete password reset process
4. **Session Management**: Shows how sessions are managed after authentication
5. **Multiple Exit Points**: Illustrates various ways users can sign out
6. **Explanatory Notes**: Provides context about Django's authentication mechanisms


The diagram clearly separates unauthenticated and authenticated states, making it easier to understand the boundaries of the authentication system. It also shows the various error paths and recovery mechanisms that ensure a robust user experience.


